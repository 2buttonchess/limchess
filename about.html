<!DOCTYPE html>
<html>
  <head>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel='stylesheet' type='text/css' href='css/chess.css'>
    <title>limchess ~ about</title>
    <script src='js/jquery-3.4.1.min.js'></script>
    <script>
      var selectableItems;
      var selectItemsIdx = 0;

      function checkGamepad() {
        var gp = navigator.getGamepads()[0];
        var axeLR = gp.axes[0];
        var axeUD = gp.axes[1];
        if(axeUD < -0.5) {
          var y = $(window).scrollTop();
          $(window).scrollTop(y-50); 
        } else if(axeUD > 0.5) {
          var y = $(window).scrollTop();
          $(window).scrollTop(y+50); 
        }
        
        $(selectableItems[selectItemsIdx]).css("border", "none")

        if(axeLR < -0.5) {
          window.location.href = selectableItems[selectItemsIdx].href
        } else if(axeLR > 0.5) {
          if(selectItemsIdx == selectableItems.length - 1) {
            selectItemsIdx = 0
          } else {
            selectItemsIdx++
          }
        }
        $(selectableItems[selectItemsIdx]).css("border", "0.5rem solid yellow")
      }

      function canGame() {
        return "getGamepads" in navigator;
      }

      $(document).ready(function() {
        var hasGP = false;
        var gp;
        selectableItems = document.getElementsByTagName("BODY")[0].querySelectorAll("a")
        if(canGame()) {

          $(window).on("gamepadconnected", function() {
              hasGP = true;
              console.log("connection event");
              gp = window.setInterval(checkGamepad,150);
          });

          $(window).on("gamepaddisconnected", function() {
              console.log("disconnection event");
              window.clearInterval(gp)
          });

          //setup an interval for Chrome
          var checkGP = window.setInterval(function() {
              if(navigator.getGamepads()[0]) {
                  if(!hasGP) $(window).trigger("gamepadconnected");
                  window.clearInterval(checkGP);
              }
          }, 500);
        }  
      })
    </script>
  </head>
  <body>
    <div id='header'>
      <h1>limchess</h1>
      <h2>Limited input accessible chess</h2>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">play</a></li>
        <li><a href="help.html">help</a></li>
      </ul>
    </nav>


    <div class='content'>
      <a href="https://benknoble.github.io/status/experimental/">This project is considered experimental</a>
      <h3>Goal</h3>
      <p>A prototype of limited input assisted chess for the web.</p>
      <p>We wanted to build a game of chess that could be played with only two
      buttons, had a functional AI to beat, and assisted the player in making
      moves by limiting the available options.</p>

      <h3>Authors and Motivation</h3>
      <p>
      Built by <a href="https://github.com/benknoble">@benknoble</a> and
      <a href="https://github.com/zlintz14">@zlintz14</a> for
      <a href="https://github.com/gbishop">@gbishop's</a> Comp 580: Enabling Technology class.
      </p>
      <p>
      Tasked with building a project for the 2020 Maze Day (which met the same
      fate as many other Spring 2020 events, in light of the COVID-19 epidemic),
      we decided to bring chess to the world of limited-mobility players.
      </p>

      <p>
      Imagine trying to make the first moves in a game of chess when your muscles
      are spastic or only controllable with difficulty. A natural step is
      voice-playable chess&mdash;given the time and resource constraints, we felt
      this was beyond the scope of our project. Instead, we opted for a 2-button
      accessible game player, since 2-buttons is a common input device for people
      with cerebral palsy or other motor disorders. One button to choose a move
      and another to confirm the selection. Theoretically, this is all one needs
      to play chess&mdash;and the web makes a perfect candidate for the prototype.
      </p>

      <p>
      In addition, we felt that the number of possible moves in chess can be
      overwhelming to new players and presents yet another degree of freedom. In
      an attempt to give more freedom by constraining the available options, we
      decided to gives players the ability to limit how many moves from which to
      choose. Advanced players can opt for all moves to be a part of the
      repertoire, while newer players might be happy with only a few. This allows
      them to focus on the fun of playing the game and worry less about making the
      best moves. In order to be fair, we wished to present the player with a
      choice of good, bad, and average moves, based on an AI evaluation (not yet
      implemented).
      </p>

      <h3>Built with</h3>

      <ul>
        <li><a href="https://github.com/jhlywa/chess.js">chess.js</a> (BSD-2)
          provides the underlying rules engine</li>
        <li><a href="https://chessboardjs.com">chessboard.js</a> (MIT) provides
          the chessboard UI</li>
        <li><a href="https://jquery.com">jquery</a> (MIT) used by chessboard.js and our
          app to implement functionality</li>
        <li><a
              href="https://github.com/lhartikk/simple-chess-ai">simple-chess-ai</a>
          (Apache 2) to implement our very simple ai.</li>
      </ul>

      <p>Name inspired in part by <a href="https://lichess.org">lichess</a></p>

      <a href="https://github.com/benknoble/limchess">Site Source</a>
    </div>
  </body>
</html>
